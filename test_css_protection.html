<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS Protection Test</title>
    <style>
        /* Test our aggressive CSS rules */
        #openChangePassword,
        #shopSettingsDisplay,
        #shopSettingsContent {
          display: none !important;
          visibility: hidden !important;
          opacity: 0 !important;
          position: absolute !important;
          left: -9999px !important;
          top: -9999px !important;
          width: 0 !important;
          height: 0 !important;
          overflow: hidden !important;
          pointer-events: none !important;
          z-index: -9999 !important;
        }
        
        /* Hide any button with forbidden text */
        button[onclick*="Update Settings"],
        button[onclick*="Change Password"] {
          display: none !important;
          visibility: hidden !important;
        }
        
        /* Additional aggressive hiding for any element with these IDs or classes */
        [id*="openChangePassword"],
        [id*="shopSettingsDisplay"],
        [id*="shopSettingsContent"],
        [class*="openChangePassword"],
        [class*="shopSettingsDisplay"],
        [class*="shopSettingsContent"] {
          display: none !important;
          visibility: hidden !important;
        }
    </style>
</head>
<body>
    <h1>CSS Protection Test</h1>
    
    <!-- Test elements that should be hidden -->
    <div id="shopSettingsDisplay">
        <h2>Current Settings (Should be hidden)</h2>
        <p>This should not be visible</p>
    </div>
    
    <button id="openChangePassword">Change Password (Should be hidden)</button>
    
    <div id="shopSettingsContent">
        <p>Settings content (Should be hidden)</p>
    </div>
    
    <button onclick="Update Settings">Update Settings (Should be hidden)</button>
    
    <script>
        console.log('Testing CSS protection...');
        
        // Check if elements are hidden
        const hiddenElements = [
            'shopSettingsDisplay',
            'openChangePassword', 
            'shopSettingsContent'
        ];
        
        hiddenElements.forEach(id => {
            const el = document.getElementById(id);
            if (el) {
                const style = window.getComputedStyle(el);
                console.log(`${id}: display=${style.display}, visibility=${style.visibility}, opacity=${style.opacity}`);
                
                if (style.display === 'none' || style.visibility === 'hidden') {
                    console.log(`✅ ${id} is properly hidden`);
                } else {
                    console.log(`❌ ${id} is NOT hidden`);
                }
            } else {
                console.log(`⚠️ ${id} not found in DOM`);
            }
        });
        
        // Check buttons with forbidden text
        const buttons = document.querySelectorAll('button');
        buttons.forEach(btn => {
            const text = btn.textContent.trim();
            if (text.includes('Update Settings') || text.includes('Change Password')) {
                const style = window.getComputedStyle(btn);
                console.log(`Button "${text}": display=${style.display}, visibility=${style.visibility}`);
                
                if (style.display === 'none' || style.visibility === 'hidden') {
                    console.log(`✅ Button "${text}" is properly hidden`);
                } else {
                    console.log(`❌ Button "${text}" is NOT hidden`);
                }
            }
        });
    </script>
</body>
</html>
